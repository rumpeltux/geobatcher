<!DOCTYPE html>
<html>
<head>
<title>Listings geocoder</title>
<meta charset="utf-8">
<style>
body, html {
    height: 96%;
    width: 99%;
}

h2 {
    margin: 0 0 8px 0;
}

#main {
    display: table;
    height: 100%;
    width: 100%;
}

#listings {
    display: table-cell;
    height: 100%;
    width: 200px;
}

#form-area {
    display: table-cell;
    height: 200px;
    width: 580px;
}

#map-container {
    display: table-cell;
    height: 98%;
    padding:8px;
}

#map {
    height: 100%;
    min-width: 400px;
}

#alternatives {
    display: table-cell;
}
</style>
<script src="http://open.mapquestapi.com/sdk/js/v7.0.s/mqa.toolkit.js?key=Fmjtd%7Cluub2l0z2u%2C72%3Do5-96yahf"></script> 
<script src="http://resources.programmingclosure.com/closure-lite.js"></script>
<script src="geobatcher.js"></script>
</head>

<body>
<div id="main">
  <div id="listings">
    [all listings]
  </div>
  <div id="form-area">
    <h2><a href="http://en.wikivoyage.org/wiki/Wikivoyage:Dynamic_maps_Expedition#Method_2:_Geobatcher">
    WV Listings geocoder and mapper</a>
    (<a href="http://upload.wikimedia.org/wikivoyage/en/6/66/Geobatcher-screenshot.jpg">how to</a>)</h2>
    <b>City: </b><input type="text" id="area" size="30" value="Larache">&nbsp;&nbsp;<b>Search using: </b>
    <input type="radio" name="search-type" id="search-name" value="name">Name
    <input type="radio" name="search-type" id="search-address" value="address" checked="true">Address<br/>

    <textarea id="nolatlng" rows="15" cols="70">
1. Paste listings here...
2. Enter the city these listings belong to (above).
3. This searches OpenStreetMap based on either name or address (select above).
4. Listings whose coordinates have been found are mapped, and those without coordinates are marked with a question mark on the map.
5. Drag and drop markers to adjust geographical coordinates. If you don't know where the other listings are, press the Remove ?s button.
WARNING: Do not remove ?s until all editing is stopped.

Results may vary depending on whether OSM has these names/addresses in their database (they may have one but not the other).
Check addresses carefully, returned coordinates may only point to the start/end of the street.

==Eat==
There are some restaurants also serving western-style food such as Pizzerias or Spaghetti.
Furthermore, there are a couple of great sandwich places including one of the best Shawarmas in Morocco (see OSM-map).
Bakeries and juice stores are also available.
* {{drink
| name=Grand taxis | url= | email=
| address= | lat= | long= | directions=
| phone= | tollfree= | fax=
| hours= | price=
| content=
}}
    </textarea><br />
    <button onclick="batchSearch()">Find coords</button>
    <button onclick="batchSearchNominatim()">Find coords (using nominatim, slower)</button>
    <button onclick="removeQuestionMarks()">Remove ?s</button>
    <button onclick="mapFittedListings()">Map listings</button>&nbsp;
    <input type="text" id="stats" size="25" style="border: 0px solid #000000; outline:none;" readonly>
    <p />
    <textarea id="withlatlng" rows="15" cols="70">
    (Replaces blank lat= and long= entries with geocoding result)
    </textarea><br />
    <sub>Data and map provided by MapQuest, <a href="http://www.openstreetmap.org/">Open Street Map</a>  and contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA </a>. Check using <a href="http://nominatim.openstreetmap.org/">Nominatim</a>.</sub>
  </div>
  <div id="map-container">&nbsp;
    <input type="text" id="findlatlng" size="30" onkeydown="if (event.keyCode == 13) singleSearch(document.getElementById('findlatlng').value)" value="Buckingham Palace">&nbsp;
    <button onclick="singleSearch(document.getElementById('findlatlng').value)">Search</button>&nbsp;&nbsp;Marker:
    <input type="text" id="locate" size="35" style="border: 0px solid #000000; outline:none;" readonly>
    <br />
    <div id="map" style="background-color: red"></div>
    <p id="alternatives"></p>
  </div>
</div>
</body>
</html> 
